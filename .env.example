# 33GOD Environment Configuration
# Copy this file to .env and fill in your values

# ==============================================================================
# RabbitMQ Configuration
# ==============================================================================
RABBITMQ_USER=delorenj
RABBITMQ_PASS=changeme
RABBITMQ_VHOST=/

# Bloodbank Exchange Configuration
BLOODBANK_EXCHANGE=bloodbank.events.v1

# ==============================================================================
# PostgreSQL Configuration
# ==============================================================================
POSTGRES_USER=delorenj
POSTGRES_PASSWORD=changeme
POSTGRES_DB=33god

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_URL=redis://33god-redis:6379/0

# ==============================================================================
# Bloodbank API Configuration
# ==============================================================================
BLOODBANK_PORT=8682
BLOODBANK_HOST=0.0.0.0
SCHEMA_VALIDATION_ENABLED=true
SCHEMA_VALIDATION_STRICT=true

# ==============================================================================
# Holocene Dashboard Configuration
# ==============================================================================
# Plane API key for the proxy
PLANE_33GOD_API_KEY=your_plane_api_key_here

# ==============================================================================
# Traefik Configuration (Optional)
# ==============================================================================
# ACME email for Let's Encrypt
ACME_EMAIL=admin@delo.sh

# Domain names (used in Traefik labels)
BLOODBANK_DOMAIN=bloodbank.delo.sh
HOLOCENE_DOMAIN=holocene.delo.sh

# ==============================================================================
# Infra Dispatcher Configuration
# ==============================================================================
# OpenClaw Hook (required)
OPENCLAW_HOOK_TOKEN=your_hook_token_here
OPENCLAW_HOOK_URL=http://host.docker.internal:18789/hooks/agent
OPENCLAW_HOOK_DELIVER=false

# Dispatch Rules (Ready Gate)
INFRA_READY_STATES=unstarted
INFRA_READY_LABELS=ready,automation:go
INFRA_COMPONENT_LABEL_PREFIX=comp:

# State Persistence
INFRA_DISPATCH_STATE_HOST_PATH=~/.config/openclaw/infra-dispatch-state.json

# Health Check Configuration
INFRA_RUN_CHECKS=true
INFRA_CHECK_TIMEOUT_SECONDS=900

# Custom Component Health Checks (JSON)
# INFRA_COMPONENT_CHECKS_JSON={"bloodbank":{"cwd":"/components/bloodbank","command":"mise x -- uv run pytest -q"}}

# Pjangler path (for health checks)
PJANGLER_HOST_PATH=~/code/pjangler

# ==============================================================================
# Observability (Optional)
# ==============================================================================
# OpenTelemetry endpoint
OTEL_ENDPOINT=

# ==============================================================================
# Development Overrides
# ==============================================================================
# Uncomment to enable hot-reload in development
# BLOODBANK_RELOAD=true
